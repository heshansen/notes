# v2.6.2版本发布记录

### 测试环境

v2.6.2测试发布公告(2018.1.22)：
解决问题14个：#956、1077、1075、954、1079第一问、1070、1055、1082、943、950、#1080,#1081,#1078,#958 
发布系统：COS、OMS、MOS、FRONT；促销服务；
注意事项：1075需要在oms上新增权限管理和修改角色管理才能生效;
1070附带需要更新数据库：将所有为空或者非门店订单的0元订单的用户来源字段更新成普通订单；
COS系统需要修改版本号

v2.6.2测试发布完成公告(2018.1.24 19:30)
解决问题6个：691、#1082,#943 、#946、#930 、1088；
待解决17个；
发布系统：COS,MOS。

v2.6.2测试全部发布完成公告（2018.1.25 18:45）
解决问题7个：#1079第二点、#1071、#943，#930、#1068、#947、#948；
待解决问题10个；
发布系统：OMS、COS、MOS；淘璞帮前端；


v2.6.2测试全部发布完成公告（2018.1.26 18:15）
解决问题3个：#930、1070、944；
待解决7个；
发布系统：MOS、OMS；

v2.6.2测试发布完成通知（2018.1.29）
解决问题1个：#907；
待解决4个；
发布系统：COS

v2.6.2测试补发完成通知（2018.1.29 20:40）：
解决问题1个：#1085;
待解决3个；
发布系统：MOS

v2.6.2测试发布完成通知（2018.1.30）：
解决问题1个：#1085;
待解决4个；
发布系统MOS；

V2.6.2测试发布完成通知（2018.1.31 19:50）
解决问题1个：#919；
剩余2个，这次版本不发；
发布系统：MOS；


### 生产环境

v2.6.2生产发布准备工作：
更新增量数据库：更新所有订单来源为空的0元订单的订单来源为”普通订单-A“；
修改版本号：COS系统需要修改版本号；最后一次测试发布后需修改生产环境的版本号；

v2.6.2生产发布公告(2018.1.31 22:30)：
解决问题30个：#1089、1088、1087、1085、1082、1081、1079、1078、1077、1075、1071、1070、1068、1055、1049、958、956、954、948、947、946、944、943、930、907、691、919、1092、1093、950；
遗留问题2个：#1000、1024；
发布系统和服务：COS、OMS、MOS、FRONT；促销服务、账户服务；淘璞帮前端；
注意事项：1075需要在oms上新增权限和修改角色管理才能生效;
如有遗落，请补充；


发布流程：
1.确认是否代码都已经合并入库；
2.备份测试全量数据库；
3.更新v2.6.2增量数据；
4.再次备份全量数据库；
5.修改测试版本号；
6.最后一次测试，需要修改生产配置文件的版本号，还需要打tag；
7.登录Jenkinshttps://jenkins.91topbaby.com/；并修改便签（高级别账号）：点击进入项目主页->配置->源码管理->Branches to build->修改为新的标签地址，如refs/tags/v2.6.0


其他：COS系统账号密码登录有问题，需要再次重启COS才能正常使用；

