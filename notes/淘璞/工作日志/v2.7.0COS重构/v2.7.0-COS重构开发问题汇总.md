# v2.7.0-COS重构开发问题汇总

### 产品确认

* 下单时要不要实时更新商品库存，同时考虑库存回退问题，比如取消订单、退货订单时？已确认，不需要。
* 支付方式：招行支付是否要改成一网通支付。

### 技术壁垒

* 事务一致性（分布式事务）：比如订单服务的确认收货接口，会有积分、优惠券、赠品等信息的更新；目前保证事务一致性优先，服务分离其次原则进行代码开发。
* session一致性（session共享）:比如登录时获取验证码接口；目前保持session一致性优先，服务分离其次原则进行开发。
* 搜索是否要换成ES？

### 注意事项与规范

* sql语句的查询尽量不用*号，需要什么字段查什么字段。
