# v2.7.0_COS重构之订单服务与支付服务接口详情

### 接口统计

|负责人|主要内容|接口个数|涉及页面|预估时长（天）|
|:-----|:------|:------|:------|:------|
| 贺汕森| 订单服务、支付服务 |31|16 |32.5（一期）|

### 订单服务(/order),一期18天

|接口描述|接口路由|请求方式|所属页面|预估时长（天）|相关服务与备注|
|:------|:------|:------|:------|:------|:------|
|添加购物车接口|/shoppingCart/add|POST|商品详情页|0.5|账户服务-获取当前登录会员信息(下同-所有)|
|查看购物车列表接口|/shoppingCart/list|GET|购物车页|0.5|商品服务-获取商品及其sku信息|
|查购物车商品数量的接口|/shoppingCart/count|GET|我的页面|0.5||
|修改购物车商品数量接口|/shoppingCart/item/update|PUT|购物车页|0.5||
|删除购物车商品接口|/shoppingCart/item/delete|DELETE|购物车页|0.5||
|清除(批量删除)购物车商品接口|/shoppingCart/item/batchDelete|DELETE|购物车页|0.5||
|查当前会员各状态订单数量的接口|/member/count|GET|我的页面|1|状态包含（待付款、待发货、待收货、待自提、退款/售后）|
|查当前会员各状态订单列表的接口|/member/list|GET|订单列表页|1|商品服务-获取商品及其sku信息|
|快递订单确认收货|/member/confirmReceipt|POST|订单列表页|1.5||
|取消订单接口|/cancel/submit|POST|订单列表页|1||
|退货商品列表接口|/return/member/list|GET|我的售后页|1|商品服务-获取商品及其sku信息|
|申请退货详情接口|/return/apply/details|GET|申请退货页|0.5|商品服务-获取商品及其sku信息|
|提交退货申请接口|/return/apply/submit|POST|申请退货页|0.5||
|退款/售后详情接口|/return/details|GET|退款/售后详情页|1|商品服务-获取商品及其sku信息|
|订单结算详情页（**大改**）|/settlement/details|GET|结算页|2|商品服务-获取商品及其sku信息；获取会员地址信息(会员服务)；门票类商品，需查看和创建出行人信息(会员服务)；|
|提交订单接口（**大改**）|/submit|POST|结算页|2|商品服务-获取商品及其sku信息|
|删除订单接口|/delete|DELETE|订单列表页/详情页|0.5||
|查看订单详情接口|/details|GET|订单详情页|1|特别注意，待付款状态是未拆分订单，其他状态都是已拆分订单|
|查询主订单信息接口|/parent/details|GET|支付选择页|0.5||
|查自提订单列表接口|/extraction/list|GET|支付成功页|0.5|商品服务-获取商品及其sku信息|
|查看自提订单二维码信息接口|/extraction/getQrCode|GET|自提页|0.5|商品服务-获取商品及其sku信息|
|查看自提订单状态接口|/extraction/getInfo|GET|自提页|0.5||
|添加订单评价接口（二期）|/evaluation/add|POST|订单列表页/详情页|1||

### 支付服务（/payment）,一期14.5天

|接口描述|接口路由|请求方式|所属页面|预估时长（天）|相关服务与备注|
|:------|:------|:------|:------|:------|:------|
|微信支付开发者文档整理||||1||
|微信支付表单参数封装接口|/wechat/getFormMap|GET|微信支付页|1|支付公共服务jar包-封装微信支付表单参数|
|微信支付异步通知后台处理订单接口|/wechat/receive|POST|微信支付页|1|支付公共服务jar包-拆分支付订单|
|微信支付返回商户查看订单支付详情接口|/wechat/show|GET|微信支付页|1||
|支付宝开发者文档整理||||1||
|支付宝支付表单参数封装接口|/alipay/getFormMap|GET|支付宝支付页|1|支付公共服务jar包-封装支付宝支付表单参数|
|支付宝支付异步通知后台处理订单接口|/alipay/receive|POST|支付宝支付页|1|支付公共服务jar包-拆分支付订单|
|支付宝支付返回商户查看订单支付详情接口|/alipay/show|GET|支付宝支付页|1||
|招行一网通支付开发者文档整理||||2||
|招行支付表单参数封装接口|/cmb_wap/getFormMap|GET|招行支付页|1.5|支付公共服务jar包-封装招行支付表单参数|
|招行支付异步通知后台处理订单接口|/cmb_wap/receive|POST|招行支付页|2|支付公共服务jar包-拆分支付订单|
|招行支付返回商户查看订单支付详情接口|/cmb_wap/show|GET|招行支付页|1||
|银联支付开发规范文档整理(二期)||||1||
|银联支付表单参数封装接口(二期)|/chinaunion/getFormMap|GET|银联支付页|1|支付公共服务jar包-封装银联支付表单参数|
|银联支付异步通知后台处理订单接口(二期)|/chinaunion/receive|POST|银联支付页|1|支付公共服务jar包-拆分支付订单|
|银联支付返回商户查看订单支付详情接口(二期)|/chinaunion/show|GET|银联支付页|1||
|快钱支付开发规范文档整理(二期)||||1||
|快钱支付表单参数封装接口(二期)|/99bill_wap/getFormMap|GET|快钱支付页|1|支付公共服务jar包-封装快钱支付表单参数|
|快钱支付异步通知后台处理订单接口(二期)|/99bill_wap/receive|POST|快钱支付页|1|支付公共服务jar包-拆分支付订单|
|快钱支付返回商户查看订单支付详情接口(二期)|/99bill_wap/show|GET|快钱支付页|1||