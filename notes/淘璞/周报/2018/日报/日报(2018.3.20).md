# 日报(2018.3.20)

**尊敬的领导，你好：**

* **下面是我今天的主要工作**

#### 一、今天计划与进度

* 当天进度：
	* 计划:完成订单服务--提交订单接口1/3的代码；
	* 实际:没有写代码，重新梳理接口逻辑；并安装配置redis；
* 总体进度：
	* 订单服务（8.3/25）,完成32%；

#### 二、今天具体工作内容

* 订单服务--提交订单接口
	* 说明：提交订单接口和结算详情接口数据共享，需要考虑两个接口的协调性；
	* 逻辑梳理：
		* 1.订单优惠券列表查询和使用；
		* 2.门店商品订单促销金额分摊逻辑；发现结算详情接口遗落了这部分逻辑。
	* 难点：
		* 1.订单的优惠有计算优先级，先计算门店商品的促销，之后再计算优惠券，最后在它们的结果上计算积分的使用。在结算页“提货方式切换”、“优惠券选择”、“积分选择”三个动作都需要重新计算订单应付金额和节省金额；
		* 2.提交订单时需要用到结算页的计算结果，就需要数据共享。而原来系统采用的是session共享，新架构下不好实现。
	* 技术方案：用redis来实时存取结算页数据。
* spring boot redis方案探索：
	* 参考资料：《[Spring Data Redis](https://docs.spring.io/spring-data/redis/docs/1.6.2.RELEASE/reference/html/)》,《[Spring boot中Redis的使用](http://www.ityouknow.com/springboot/2016/03/06/springboot(%E4%B8%89)-Spring-Boot%E4%B8%ADRedis%E7%9A%84%E4%BD%BF%E7%94%A8.html)》
	* 本地安装并配置redis；
	* 初步集成redis到服务中：依赖还有点问题，明天解决；

#### 三、明日计划与安排

* 1.将redis集成到springboot中去；
* 2.修改结算详情接口逻辑，继续提交订单接口优惠券部分计算逻辑的编写；