# 日报（2018.3.1）

**今天主要工作：**

### 一.总体进度汇报：

* 1、订单服务（2.5/24）、支付服务（0/10）
	* 说明：订单服务所有24个接口中已经完成2.5个，接口不分难易程度，只做大体参考。
* 2、订单服务接口API文档详见**附件**或链接：[订单服务API-v270](https://project.91topbaby.com/projects/topbaby/wiki/%E8%AE%A2%E5%8D%95%E6%9C%8D%E5%8A%A1API-v270)；

### 二.主要开发内容：

* 1.订单服务-添加购物车接口（续）：
	* 输入参数修改：去掉两个无用的字段；
	* 新增逻辑：如果购物车已经添加过此款商品，只需更新数量即可，更新数量前需要验证商品库存是否充足；
	* 进度：100%。
* 2.订单服务-查购物车商品数量的接口（新）：
	* 接口说明：获取当前会员购物车中所有商品条目数量的接口，需要登录方可查看；
	* 进度：100%。
* 3.订单服务-查看购物车列表接口（新）：
	* 说明：接口基本框架已经写好，等待逻辑填充；
	* 开发进度：50%；
* 4.关联服务接口联调：商品服务--获取sku商品门店库存信息接口（/product/getProductInfoForWarehouse）
	* 输入参数：brandshopSeq和skuSeq
	* 接口名：需要修改接口命名，这里不仅配单仓用，购物车也会用到；
	* 基本功能：获取商品的基本信息、sku信息以及门店库存信息；
	* 新增字段：商品的提货方式（用于添加购物车前的判断）；
* 5.新增其他服务调用订单服务接口需求：
	* 原因：获取门店评价的算法中，需要用到订单商品评价的平均值和订单评价的平均值的计算。一期所有评价功能都不做，但这里是属于查看历史评价数据的接口，比较特殊，属于服务间调用接口。
	* 具体需求：根据门店id，查询订单商品评价的平均值和订单评价的平均值，参考OrderCommentServiceImpl中的getCommentPercent()方法中的代码：
```
// 商品质量评价的平均值
float productAvg = orderItemCommentService.getProductScoreAvg(param);
// 导购服务，门店环境评价的平均值
float levelAndOverallAvg = getLevelAndOverallAvg(param);
```

**明天主要工作：**

* 1.继续开发：订单服务-查看购物车列表接口剩余部分；
* 2.新增接口：将获取订单商品评价平均值和订单评价的平均值整合成一个接口，记入总体开发规划中。
* 3.会议安排与进度跟踪：3月2日11:00，组织召开业务开发小组会议，跟踪进度。