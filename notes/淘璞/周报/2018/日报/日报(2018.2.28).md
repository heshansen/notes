# 日报(2018.2.28)

**今天主要工作：**

### 一.总体进度概览（V2.7.0本人负责开发部分）：

* 1、订单服务（2/24）、支付服务（0/10）
	* 说明：其中“订单服务（2/24）”代表订单服务所有24个接口中已经完成2个，接口不分难易程度，只做大体参考。
* 2、订单服务接口API文档详见：[订单服务API-v270](https://project.91topbaby.com/projects/topbaby/wiki/%E8%AE%A2%E5%8D%95%E6%9C%8D%E5%8A%A1API-v270)；

### 二.开发内容：

* 1、订单服务-查看购物车信息接口（续）：
	* 新增数据连接层（ShoppingcartMapper.xml），增加两个方法：一个是根据会员id查询购物车信息；另一个是新建购物车信息；
	* 新增会员服务接口调用（新增类：MemberClinet、MemberFallback），获取当前登录会员信息接口；
* 2、订单服务-添加商品到购物车接口（续）：
	* 新增数据连接层（ShoppingcartItemMapper.xml），新增业务实体类（ShoppingcartItemDO）；
	* 新增商品服务接口调用（新增类：Product）,根据商品id查询商品基本信息接口；
	* 新增逻辑：添加商品到购物车之前，需要判断当前会员购物车中是否已经添加过此门店的商品；如果有，还需进一步判断当前添加商品的运送方式是否与购物车中存在互斥关系，存在互斥则提示异常，不允许添加。

### 三、总结

* 实际问题：按原定计划，这两个接口1天完成，现在用时2天，已经超出预期；
* 原因分析：
	* 1，外因，今天由于科目四考试，调休半天，时间不够；
	* 2，内因，第二个接口(订单服务-添加商品到购物车接口)评估时间有误，后期需求讨论中有新增一个比较复杂的逻辑，没有及时进行再评估与修正；导致开发时间超出预期。
	* 3,技术，不存在技术难点，只是工作量有所增加；
* 解决办法：实事求是，重新评估接口复杂度与计划用时，预计明天还需花费半天时间进行开发；

**明天工作重点**

* 1.继续开发：订单服务-添加商品到购物车接口；
* 2.开始下一个新接口的开发：订单服务-查询购物车列表；