# 日报(2018.3.28)

**尊敬的领导，你好：**

* **下面是我今天的主要工作**

#### 一、今天计划与进度

* 当天进度：
	* 计划:完成0.8个接口；时间安排：9:00-21:00
	* 实际:完成0.8个接口；工作时间：9:00-21:00
* 总体进度：
	* 订单服务（　9.8/16）:工作量70%左右；
	
#### 二、今天具体工作内容

* 订单服务-提交订单接口（续）：
	* 完成情况：80%；
	* 说明：得益于结算详情接口的设计，提交订单时与促销相关的金额计算与分摊不需要再做，直接从redis中读取；但是积分的计算还是需要实时计算的。
	* 算法逻辑：（提交订单时相关数据处理顺序）
		* 1.创建主订单；
		* 2.计算积分抵扣总额；
		* 3.无需拆分订单处理；
		* 4.依次创建订单商品条目信息；
		* 5.分摊积分到各订单商品条目中；
		* 6.统一插入主订单、订单条目、主订单与订单条目关联信息；
		* 7.如果是门票类商品，添加订单出行人信息；
		* 8.扣除会员积分使用信息；
		* 9.更新会员积分支付明细相关信息；
		* 10.如果是快递方式，添加订单快递收货信息；
		* 11.如果是从购物车结算，则清除购物车相关商品信息；

#### 三、明日计划与安排

* 1.完成订单服务-提交订单接口剩余20%的内容；
* 2.梳理订单服务-订单支付接口；
* 3.加班安排：9:00-21:00；